# 档案数字化管理系统项目结构

## 📁 项目目录结构

```
digital-archive-management/
├── 📄 README.md                           # 项目说明文档
├── 📄 LICENSE                             # 开源许可证
├── 📄 .gitignore                          # Git忽略文件
├── 📁 docs/                               # 项目文档
│   ├── 📄 需求文档.md                     # 功能需求文档
│   ├── 📄 技术选型和解决方案.md           # 技术方案文档
│   └── 📄 项目结构.md                     # 项目结构说明
├── 📁 archive-service/                    # 档案管理服务
│   ├── 📁 src/
│   │   ├── 📁 main/
│   │   │   ├── 📁 java/
│   │   │   │   └── 📁 com/archive/
│   │   │   │       ├── 📁 controller/    # 控制器层
│   │   │   │       ├── 📁 service/       # 服务层
│   │   │   │       ├── 📁 repository/    # 数据访问层
│   │   │   │       ├── 📁 entity/        # 实体类
│   │   │   │       ├── 📁 dto/           # 数据传输对象
│   │   │   │       ├── 📁 config/        # 配置类
│   │   │   │       ├── 📁 exception/     # 异常处理
│   │   │   │       └── 📁 util/          # 工具类
│   │   │   └── 📁 resources/
│   │   │       ├── 📄 application.yml    # 应用配置
│   │   │       ├── 📄 application-dev.yml # 开发环境配置
│   │   │       ├── 📄 application-prod.yml # 生产环境配置
│   │   │       └── 📁 db/migration/      # 数据库迁移脚本
│   │   └── 📁 test/                       # 测试代码
│   ├── 📄 pom.xml                         # Maven配置
│   └── 📄 Dockerfile                      # Docker镜像配置
├── 📁 image-processing-service/           # 图像处理服务
│   ├── 📁 src/
│   │   ├── 📁 main/
│   │   │   ├── 📁 java/
│   │   │   │   └── 📁 com/archive/image/
│   │   │   │       ├── 📁 controller/
│   │   │   │       ├── 📁 service/
│   │   │   │       ├── 📁 processor/     # 图像处理器
│   │   │   │       ├── 📁 quality/       # 质量检查
│   │   │   │       └── 📁 config/
│   │   │   └── 📁 resources/
│   │   └── 📁 test/
│   ├── 📄 pom.xml
│   └── 📄 Dockerfile
├── 📁 file-storage-service/               # 文件存储服务
│   ├── 📁 src/
│   │   ├── 📁 main/
│   │   │   ├── 📁 java/
│   │   │   │   └── 📁 com/archive/storage/
│   │   │   │       ├── 📁 controller/
│   │   │   │       ├── 📁 service/
│   │   │   │       ├── 📁 config/
│   │   │   │       └── 📁 util/
│   │   │   └── 📁 resources/
│   │   └── 📁 test/
│   ├── 📄 pom.xml
│   └── 📄 Dockerfile
├── 📁 quality-check-service/              # 质量检查服务
│   ├── 📁 src/
│   │   ├── 📁 main/
│   │   │   ├── 📁 java/
│   │   │   │   └── 📁 com/archive/quality/
│   │   │   │       ├── 📁 controller/
│   │   │   │       ├── 📁 service/
│   │   │   │       ├── 📁 checker/       # 质量检查器
│   │   │   │       └── 📁 config/
│   │   │   └── 📁 resources/
│   │   └── 📁 test/
│   ├── 📄 pom.xml
│   └── 📄 Dockerfile
├── 📁 export-service/                     # 数据导出服务
│   ├── 📁 src/
│   │   ├── 📁 main/
│   │   │   ├── 📁 java/
│   │   │   │   └── 📁 com/archive/export/
│   │   │   │       ├── 📁 controller/
│   │   │   │       ├── 📁 service/
│   │   │   │       ├── 📁 exporter/      # 导出器
│   │   │   │       └── 📁 config/
│   │   │   └── 📁 resources/
│   │   └── 📁 test/
│   ├── 📄 pom.xml
│   └── 📄 Dockerfile
├── 📁 user-service/                       # 用户管理服务
│   ├── 📁 src/
│   │   ├── 📁 main/
│   │   │   ├── 📁 java/
│   │   │   │   └── 📁 com/archive/user/
│   │   │   │       ├── 📁 controller/
│   │   │   │       ├── 📁 service/
│   │   │   │       ├── 📁 entity/
│   │   │   │       ├── 📁 security/      # 安全相关
│   │   │   │       └── 📁 config/
│   │   │   └── 📁 resources/
│   │   └── 📁 test/
│   ├── 📄 pom.xml
│   └── 📄 Dockerfile
├── 📁 gateway-service/                     # API网关服务
│   ├── 📁 src/
│   │   ├── 📁 main/
│   │   │   ├── 📁 java/
│   │   │   │   └── 📁 com/archive/gateway/
│   │   │   │       ├── 📁 config/
│   │   │   │       ├── 📁 filter/        # 网关过滤器
│   │   │   │       └── 📁 handler/       # 处理器
│   │   │   └── 📁 resources/
│   │   └── 📁 test/
│   ├── 📄 pom.xml
│   └── 📄 Dockerfile
├── 📁 frontend/                           # 前端应用
│   ├── 📁 src/
│   │   ├── 📁 components/                 # 通用组件
│   │   │   ├── 📁 ArchiveList/           # 档案列表组件
│   │   │   ├── 📁 ArchiveForm/           # 档案表单组件
│   │   │   ├── 📁 ImageViewer/           # 图像查看器
│   │   │   ├── 📁 QualityChecker/        # 质量检查组件
│   │   │   └── 📁 common/                # 公共组件
│   │   ├── 📁 pages/                     # 页面组件
│   │   │   ├── 📁 Dashboard/             # 仪表板
│   │   │   ├── 📁 ArchiveManagement/     # 档案管理
│   │   │   ├── 📁 ImageProcessing/       # 图像处理
│   │   │   ├── 📁 QualityControl/        # 质量控制
│   │   │   ├── 📁 DataExport/            # 数据导出
│   │   │   └── 📁 UserManagement/        # 用户管理
│   │   ├── 📁 services/                  # API服务
│   │   │   ├── 📄 archiveService.ts      # 档案服务
│   │   │   ├── 📄 imageService.ts        # 图像服务
│   │   │   ├── 📄 qualityService.ts      # 质量服务
│   │   │   ├── 📄 exportService.ts       # 导出服务
│   │   │   └── 📄 userService.ts         # 用户服务
│   │   ├── 📁 store/                     # 状态管理
│   │   │   ├── 📄 archiveSlice.ts        # 档案状态
│   │   │   ├── 📄 imageSlice.ts          # 图像状态
│   │   │   ├── 📄 qualitySlice.ts        # 质量状态
│   │   │   └── 📄 userSlice.ts           # 用户状态
│   │   ├── 📁 utils/                     # 工具函数
│   │   │   ├── 📄 request.ts             # HTTP请求
│   │   │   ├── 📄 auth.ts                # 认证工具
│   │   │   ├── 📄 format.ts              # 格式化工具
│   │   │   └── 📄 constants.ts           # 常量定义
│   │   ├── 📁 types/                     # TypeScript类型定义
│   │   │   ├── 📄 archive.ts             # 档案类型
│   │   │   ├── 📄 image.ts               # 图像类型
│   │   │   ├── 📄 quality.ts             # 质量类型
│   │   │   └── 📄 user.ts                # 用户类型
│   │   ├── 📄 App.tsx                    # 应用入口
│   │   ├── 📄 main.tsx                   # 主入口
│   │   └── 📄 index.css                  # 全局样式
│   ├── 📁 public/                        # 静态资源
│   │   ├── 📄 index.html                 # HTML模板
│   │   ├── 📄 favicon.ico                # 网站图标
│   │   └── 📁 images/                    # 图片资源
│   ├── 📄 package.json                   # 依赖配置
│   ├── 📄 vite.config.ts                 # Vite配置
│   ├── 📄 tsconfig.json                  # TypeScript配置
│   ├── 📄 .eslintrc.js                   # ESLint配置
│   ├── 📄 .prettierrc                    # Prettier配置
│   └── 📄 Dockerfile                     # Docker配置
├── 📁 shared/                            # 共享模块
│   ├── 📁 shared-common/                 # 公共模块
│   │   ├── 📁 src/
│   │   │   └── 📁 main/java/
│   │   │       └── 📁 com/archive/common/
│   │   │           ├── 📁 dto/           # 共享DTO
│   │   │           ├── 📁 enums/         # 枚举定义
│   │   │           ├── 📁 exception/     # 异常定义
│   │   │           ├── 📁 util/          # 工具类
│   │   │           └── 📁 constants/     # 常量定义
│   │   └── 📄 pom.xml
│   └── 📁 shared-security/               # 安全模块
│       ├── 📁 src/
│       │   └── 📁 main/java/
│       │       └── 📁 com/archive/security/
│       │           ├── 📁 config/        # 安全配置
│       │           ├── 📁 filter/        # 安全过滤器
│       │           └── 📁 util/          # 安全工具
│       └── 📄 pom.xml
├── 📁 infrastructure/                     # 基础设施
│   ├── 📁 monitoring/                    # 监控配置
│   │   ├── 📄 prometheus.yml             # Prometheus配置
│   │   ├── 📄 grafana/                   # Grafana配置
│   │   └── 📄 alertmanager.yml           # 告警配置
│   ├── 📁 logging/                       # 日志配置
│   │   ├── 📄 logstash.conf              # Logstash配置
│   │   └── 📄 kibana.yml                 # Kibana配置
│   └── 📁 database/                      # 数据库配置
│       ├── 📄 mysql/                     # MySQL配置
│       └── 📄 redis/                     # Redis配置
├── 📄 docker-compose.yml                 # Docker编排文件
├── 📄 docker-compose.dev.yml             # 开发环境编排
├── 📄 docker-compose.prod.yml            # 生产环境编排
├── 📄 .github/                           # GitHub配置
│   └── 📁 workflows/                     # CI/CD工作流
│       ├── 📄 build.yml                  # 构建工作流
│       ├── 📄 test.yml                   # 测试工作流
│       └── 📄 deploy.yml                 # 部署工作流
├── 📄 scripts/                           # 脚本文件
│   ├── 📄 build.sh                       # 构建脚本
│   ├── 📄 deploy.sh                      # 部署脚本
│   ├── 📄 test.sh                        # 测试脚本
│   └── 📄 backup.sh                      # 备份脚本
└── 📄 docs/                              # 项目文档
    ├── 📄 需求文档.md                     # 功能需求文档
    ├── 📄 技术选型和解决方案.md           # 技术方案文档
    ├── 📄 API文档.md                      # API接口文档
    ├── 📄 部署文档.md                     # 部署说明文档
    ├── 📄 用户手册.md                     # 用户操作手册
    └── 📄 开发规范.md                     # 开发规范文档
```

## 🏗️ 架构说明

### 微服务架构
项目采用微服务架构，将不同的业务功能拆分为独立的服务：

1. **archive-service**: 档案管理核心服务
2. **image-processing-service**: 图像处理服务
3. **file-storage-service**: 文件存储服务
4. **quality-check-service**: 质量检查服务
5. **export-service**: 数据导出服务
6. **user-service**: 用户管理服务
7. **gateway-service**: API网关服务

### 前端架构
前端采用React + TypeScript + Ant Design Pro的技术栈：

1. **组件化开发**: 将UI拆分为可复用的组件
2. **状态管理**: 使用Redux Toolkit管理应用状态
3. **类型安全**: 使用TypeScript确保代码类型安全
4. **现代化构建**: 使用Vite进行快速构建

### 共享模块
为了减少代码重复，设置了共享模块：

1. **shared-common**: 公共DTO、枚举、工具类等
2. **shared-security**: 安全相关的配置和工具

## 📋 开发规范

### 命名规范
- **文件夹**: 使用kebab-case (如: archive-service)
- **Java类**: 使用PascalCase (如: ArchiveController)
- **变量方法**: 使用camelCase (如: archiveNumber)
- **常量**: 使用UPPER_SNAKE_CASE (如: MAX_FILE_SIZE)

### 代码组织
- **控制器层**: 处理HTTP请求和响应
- **服务层**: 处理业务逻辑
- **数据访问层**: 处理数据库操作
- **实体层**: 定义数据模型
- **DTO层**: 定义数据传输对象

### 测试策略
- **单元测试**: 测试单个方法或类
- **集成测试**: 测试服务间的交互
- **端到端测试**: 测试完整的用户流程

## 🚀 部署策略

### 开发环境
- 使用Docker Compose进行本地开发
- 支持热重载和调试
- 使用本地数据库和缓存

### 测试环境
- 使用Docker Swarm进行部署
- 模拟生产环境配置
- 自动化测试和部署

### 生产环境
- 使用Kubernetes进行容器编排
- 高可用和负载均衡
- 监控和日志收集

## 📊 监控和运维

### 应用监控
- **Prometheus**: 指标收集
- **Grafana**: 监控面板
- **健康检查**: 服务健康状态

### 日志管理
- **ELK Stack**: 日志收集和分析
- **结构化日志**: JSON格式日志
- **日志轮转**: 自动日志清理

### 告警机制
- **服务异常**: 服务不可用告警
- **性能告警**: 响应时间过长告警
- **资源告警**: 内存、CPU使用率告警

## 🔧 开发工具

### 后端开发
- **IDE**: IntelliJ IDEA
- **构建工具**: Maven
- **测试框架**: JUnit 5 + Mockito
- **代码检查**: SonarQube

### 前端开发
- **IDE**: VS Code
- **包管理**: npm/yarn
- **代码检查**: ESLint + Prettier
- **测试框架**: Jest + React Testing Library

### 运维工具
- **容器化**: Docker
- **编排**: Kubernetes
- **监控**: Prometheus + Grafana
- **日志**: ELK Stack